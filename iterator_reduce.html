<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/style.css">
    <title>The .reduce() Method</title>
</head>
<body>
    <section class="lesson">

        <h1>The .reduce() Method</h1>

        <p>
            The <code>.reduce()</code> method is a powerful array method that allows you to perform 
            operations on each element of an array and return the result as a single value thereby
            reducing the array down to one value. This can be very useful when working with arrays
            containing numbers or strings where you want to find out something about them such as
            finding the sum, average, maximum, minimum etc. <br><br>
            
            Let's see an illustration below:

            <pre>
                const arr = [2,4,6,8];
                const totalSum = arr.reduce((accumulator, currentValue) => {
                    return accumulator + currentValue
                }); 
                console.log(totalSum); // Output: 20
            </pre>

            <script>
                const arr = [2,4,6,8];
                const totalSum = arr.reduce((accumulator, currentValue) => {
                    return accumulator + currentValue
                });
                console.log(totalSum); // Output: 20
            </script>

            From the above, <br><br>

            <li><code>arr</code> is our input array which contains four elements (2,4,6,8).</li>
            <li><code>accumulator</code> represents the variable in which we keep track of the running total.</li>
            <li><code>accumulator</code> represents the variable in which we store intermediate results.</li>
            <li><code>currentValue</code> represents the current element being processed in the array.</li>
            <li>
                <code>return accumulator + currentValue;</code> this line performs addition operation between 
                the accumulated value and the current value and returns the new accumulated value which will 
                be used for the next iteration.
            </li>
            In this case, it adds up all the values from the array and gives us the final output of 20. <br><br>

            Below is a table to explain the illustration; <br><br>

            <img src="image/table.PNG" alt="able of iteration"> <br><br>

            <!-- | Index | Accumulator | Current Value | Result | <br>
            |-------|-------------|---------------|--------| <br>
            |  0    |     2       |    2          |   2    | <br>
            |  1    |     4       |    4          |   6    | <br>
            |  2    |     6       |    6          |   12   | <br>
            |  3    |     8       |    8          |   20   | <br><br> -->

            So, after all iterations are completed, the final value stored in the accumulator becomes the reduced value
            which would be 20. <br><br>

            The <code>.reduce()</code> method can also take an optional second parameter to set an initial value 
            for <code>accumulator</code> (remember, the first argument is the callback function!). For instance:
            <br><br>

            <pre>
                const numbers = [2,4,6,8];
                const sum = numbers.reduce((accumulator, currentValue) =>
                {
                    return accumulator + currentValue;
                }, 10) //<- Second argument for .reduce()
                console.log(sum); //Output: 30
            </pre>

            Here's an updated table for the above with a second argument of 10: <br><br>

            <img src="image/table2.PNG" alt="iterator table"> <br><br>

            <!-- | Index | Accumulator | Current Value | Result | <br>
            |-------|-------------|---------------|--------| <br>
            |  0    |     10      |    2          |   12   | <br>
            |  1    |     12      |    4          |   16   | <br>
            |  2    |     16      |    6          |   22   | <br>
            |  3    |     22      |    8          |   30   | <br><br> -->            

        </p>

        <script>
            const newNumbers = [1, 3, 5, 7];
            const newSum = newNumbers.reduce((
                accumulator, currentValue) => {
            console.log('The value of accumulator: ', accumulator);

            console.log('The value of currentValue: ', currentValue);

            return accumulator + currentValue;
            }, 10);

            console.log(newSum);
        </script>

        <script>
            const words = ['unique', 'uncanny', 'pique', 'oxymoron', 'guise'];

            // Something is missing in the method call below

            console.log(words.some(word => {
            return word.length < 6;
            }));

            // Use filter to create a new array
            const interestingWords = words.filter((word) => {return word.length > 5});


            // Make sure to uncomment the code below and fix the incorrect code before running it

            console.log(interestingWords.every((word) => {return word.length > 5}));

        </script>


    
        <div class="nav-button">
            <button class="back-btn"><a href="iterator_findindex.html">BACK</a></button>
            <button class="next-btn"><a href="iterator_right.html">NEXT</a></button>          
        </div>
    </section>
</body>
</html>