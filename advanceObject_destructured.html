<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/style.css">
    <title>Advance Objects | Destructured Assignment</title>
</head>
<body>
    <section class="lesson">

        <h1>Advance Objects | Destructured Assignment</h1>

        <p>
            In this lesson we will learn how to use the destructuring assignment syntax in JavaScript. This
            allows us to extract values from arrays or objects into separate variables. Let's see an example
            of how it works:

            <pre>
                const airline = {
                    name: 'TurboJet',
                    flightNumber: 74532,
                    capacity: 400,
                    crew: {
                        captain(){
                            document.write('Captain John');
                        },
                        firstOfficer(){
                            document.write('First Officer Mike');
                        },
                        airHostess(){
                            document.write('Air Hostess Samantha')
                        }
                    }
                };
            </pre>

            If we wanted to extract the <code>capacity</code> property as a variable, we could use the following code:
            
            <pre>
                const capacity = airline.capacity; 
                console.log(capacity); // Prints 400 
            </pre>

            However, we can also take advantage of a destructuring technique called destructured assignment 
            to save ourselves some keystrokes. In destructured assignment we create a variable with the name 
            of an object’s key that is wrapped in curly braces { } and assign to it the object. Take a look 
            at the example below:

            <pre>
                const { capacity } = airline; 
                console.log(capacity); // Prints 400;
            </pre>

            Look back at the <code>airline</code> object’s properties in the first code example. Then, 
            in the example above, we declare a new variable <code>capacity</code> that extracts the value 
            of the <code>capacity</code> property of <code>airline</code>. When we log the value of 
            <code>capacity</code> to the console, <code>400</code> is printed. <br><br>

            We can even use destructured assignment to grab nested properties of an object:

            <pre>
                const { captain } = airline.crew; 
                console.log(captain); // Prints 'Captain John'
            </pre>
            
        Now let's see a full example:

        <pre>
            const airline = {
                name: 'TurboJet',
                flightNumber: 74532,
                capacity: 400,
                crew: {
                    captain(){
                        document.write('Captain John');
                    },
                    firstOfficer(){
                        document.write('First Officer Mike');
                    },
                    airHostess(){
                        document.write('Air Hostess Samantha')
                    }
                }
            };
            const {crew} = airline;
            crew.captain();
        </pre>

        <h3>Output:</h3>
            
            <script>
                const airline = {
                    name: 'TurboJet',
                    flightNumber: 74532,
                    capacity: 400,
                    crew: {
                        captain(){
                            document.write('Captain John');
                        },
                        firstOfficer(){
                            document.write('First Officer Mike');
                        },
                        airHostess(){
                            document.write('Air Hostess Samantha')
                        }
                    }
                };
                const {crew} = airline;
                crew.captain();

            </script>

            <!-- <pre>
                const person = { firstName: 'John', lastName: 'Doe', age:32 };
                // Using destructuring assignment
                let {firstName, lastName} = person;
                console.log(firstName);  // Output: John
                console.log(lastName);   // Output: Doe
            </pre>
            Now let's try something a bit more complex with nested properties and default values:

            <pre>
                const data = [
                {name:'John',age:15},
                {name:'Jane',age:25},
                {name:'Alice'}
                ];
                for (let d of data) {
                    let {name: n = 'Anonymous', age: a = 0 } =
                    d || {};
                    console.log(`${n} is ${a}`);
                }
            </pre> -->
        </p>

        <script>
            const data = [
                {name:'John',age:15},
                {name:'Jane',age:25},
                {name:'Alice'}
                ];
                for (let d of data) {
                    let {name: n = 'Anonymous', age: a = 0 } =
                    d || {};
                    console.log(`${n} is ${a}`);
                };                
        </script>
    
        <div class="nav-button">
            <button class="back-btn"><a href="advanceObject_shorthand.html">BACK</a></button>
            <button class="next-btn"><a href="advanceObject_built.html">NEXT</a></button>       
        </div> 

    </section>
</body>
</html>