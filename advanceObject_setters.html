<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/style.css">
    <title>Advance Objects | Setters</title>
</head>
<body>
    <section class="lesson">

        <h1>Advance Objects | Setters</h1>

        <p>
            In this lesson we will learn how to use setter methods in JavaScript objects. A set
            method is a special type of method that allows you to modify the properties of an object.
            It takes one parameter which represents the value that should be assigned to the property. <br>

            While the getter method is used to retrieve (get) the value of an object's property, the setter method 
            is used to modify (reassign) the value of an object's property. <br>

            Let's see an illustration:

            <pre>
                const person = {
                    _age: 25,
                    set age(newAge){
                      if (typeof newAge === 'number'){
                        this._age = newAge;
                      } else {
                        console.log('Only numbers are allowed');
                      }
                    }
                  };
            </pre>

            Here's what happened in the illustration above:

            <li>We can perform a check for what value is being assigned to <code>this._age.</code></li>
            <li>When we use the setter method, on values that are numbers will reassign <code>this.age</code></li>
            <li>There are different outputs depending on what values are used to reassign <code>this._age.</code></li>
            
            Now let's use the setter method:

            <pre>
                const person = {
                    _age: 25,
                    get age(){
                        if(typeof this._age === 'number'){
                            return this._age;
                            }else{
                                throw Error("Not a valid number");
                        }
                    },
                    set age(newAge){
                        if (typeof newAge === 'number'){
                            this._age = newAge;
                        } else {
                            throw Error('Only numbers are allowed');
                        }
                    }
                };
    
                person.age = 30;
                document.write(person.age); // Output: 30
            </pre>
        </p>

        <h3>Output:</h3>

        <script>
            const person = {
                _age: 25,
                get age(){
                    if(typeof this._age === 'number'){
                        return this._age;
                        }else{
                            throw Error("Not a valid number");
                    }
                },
                set age(newAge){
                    if (typeof newAge === 'number'){
                        this._age = newAge;
                    } else {
                        throw Error('Only numbers are allowed');
                    }
                }
            };

            person.age = 30;
            document.write(person.age); // Output: 30
           
        </script>

<p>
    Setter methods like <code>age</code> do not need to be called with a set of parentheses. 
    Syntactically, it looks like weâ€™re reassigning the value of a property. <br><br>

    Like getter methods, there are similar advantages to using setter methods that include 
    checking input, performing actions on properties, and displaying a clear intention for 
    how the object is supposed to be used. Nonetheless, even with a setter method, it is 
    still possible to directly reassign properties. For example, in the example above, 
    we can still set <code>._age</code> directly:

    <pre>
        person._age = 'forty-five'
        console.log(person._age); // Prints forty-five
    </pre>
</p>

Let's look at another example:

<pre>
    const student = {
        _name: "John",
        _subject: "javascript",
        _score: 70,
        get score(){
            if(typeof this._score === 'number'){
                return `${this._name} got ${this._score}% in 
                ${this._subject} exam`
            }else{
                throw Error("Score should be a number");
            }                
        },
        set score(value){
            if (typeof value === 'number' && value >= 75) {
                this._score = value;
                } else {
                    throw Error (`You need a minimum score of 75% to pass 
                    ${this._subject}.`);                   
                }
        }
    };
    student.score = 80;
    console.log(student.score);
</pre>

<h3>Output:</h3>
<script>
    const student = {
        _name: "John",
        _subject: "javascript",
        _score: 70,
        get score(){
            if(typeof this._score === 'number'){
                return `${this._name} got ${this._score}% in ${this._subject} exam`
            }else{
                throw Error("Score should be a number");
            }                
        },
        set score(value){
            if (typeof value === 'number' && value >= 75) {
                this._score = value;
                } else {
                    throw Error (`You need a minimum score of 75% to pass ${this._subject}.`);                   
                }
        }
    };
    student.score = 80;
    document.write(student.score);
</script>

<p class="note">
    You can change the score to a value lower than 75 and check the console to see the output
</p>

<!-- <script>

    // FROM CODECADEMY

    const robot = {
        _model: '1E78V2',
        _energyLevel: 100,
        _numOfSensors: 15,

        get numOfSensors(){
            if(typeof this._numOfSensors === 'number'){
                return this._numOfSensors;
            } else {
                return 'Sensors are currently down.'
            }
        },

        set numOfSensors(num){
            if (typeof num === 'number' && num >= 0){
                this._numOfSensors = num;
            } else{
                document.write('Pass in a number that is greater than or equal to 0')
            }
        }  
    };
    robot.numOfSensors = 'five';

    document.write(robot.numOfSensors) -->
</script>


<div class="nav-button">
    <button class="back-btn"><a href="advanceObject_getters.html">BACK</a></button>
    <button class="next-btn"><a href="advanceObject_factory.html">NEXT</a></button>       
</div> 
    
    </section>
</body>
</html>