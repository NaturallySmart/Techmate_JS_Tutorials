<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/style.css">
    <title>Advance Objects | Using this Keyword in Arrow functions</title>
</head>
<body>
    <section class="lesson">

        <h1>Advance Objects | Using this Keyword in Arrow functions</h1>

        <p>
            In JavaScript, arrow functions do not have their own "this" keyword.
            The value of "this" is determined by where the function is called from.
            If you are inside an object method then "this" will refer to that object.
            But if you use an arrow function outside of any object or method,
            "this" will be equal to the global object (usually window). <br>

            It is very important to avoid using <code>arrow functions</code> when using <code>this</code>
            in a method.

            <pre>            
                const car = {
                    Make: 'Toyota',
                    Model: 'Camry',
                    Year: 2019,
                    Color: 'Blue',
                    power: '203hp',
                        getCarDetails:() => {
                        return `This ${this.Make} ${this.Model} has a ${this.
                        power} and was made in ${this.Year}.`;
                    },
                };

                console.log(`${car.getCarDetails()}`)  //Outputs undefined

            </pre>

            Here's what happened in the above example.
            When we call <code>console.log(car.getCarDetails())</code>,
            it tries to access the properties of the car object but fails because
            <code>this</code> does not point to the car object. Instead, it points
            to the global object which doesn't have those properties so it returns
            <code>undefined</code>. <br><br>

            To fix this issue, instead of using arror function <code>=></code> for defining our
            methods, we can refactor the code and use <code>function() {}</code>:
    
            <pre>
                const car = {
                    Make: 'Toyota',
                    Model: 'Camry',
                    Year: 2019,
                    color: 'Blue',
                    power: '203 hp',
                    getCarDetails: function() {
                        return `${this.Make} ${this.Model} has a ${this.power} 
                        and was made in ${this.Year}.`;
                    },
                };

                console.log(`${car.getCarDetails()}`)
            </pre>
        </p>


        <!-- <script>
            const car = {
                Make: 'Toyota',
                Model: 'Camry',
                Year: 2019,
                Color: 'Blue',
                power: '203hp',
                getCarDetails:() => {
                    return `This ${this.Make} ${this.Model} has a ${this.
                        power} and was made in ${this.Year}.`;
                    },
            };

            console.log(`${car.getCarDetails()}`)  //Outputs undefined
        </script> -->

    </section>
</body>
</html>